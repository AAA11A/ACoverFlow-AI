# План работы: Объединение подтверждения изменений тегов и обложки

## Задача
Объединить подтверждение изменений тегов и обложки в одну команду "Применить изменения".

## Шаги выполнения

- [x] 1. Обновить HTML: убрать кнопку "Применить к выбранным" из секции обложек
- [x] 2. Обновить JavaScript: объединить логику saveTags и applyCover в одну функцию
- [x] 3. Проверить работу объединенной функции

## Версионный лог

### 2025-11-XX - Исправление применения изменений тегов
- Исправлена проблема с применением изменений тегов для отдельных файлов
- JavaScript теперь отправляет все поля формы (даже пустые)
- Серверная часть обрабатывает пустые строки корректно
- Изменения тегов теперь применяются для любого количества выбранных файлов

### 2025-11-XX - Объединение подтверждения изменений
- Объединены функции подтверждения изменений тегов и обложки
- Логика: применяется то, что выбрано (теги и/или обложка)

### 2025-11-XX - Исправление запуска на сервере
- Заменен устаревший @app.on_event("startup") на lifespan
- Добавлена переменная окружения WEB_HOST (по умолчанию 0.0.0.0)
- Исправлен запуск uvicorn для работы на сервере через nginx
- Создан скрипт fix_server.sh для обновления на сервере
- Изменен порт с 3003 на 3004 (порт 3003 занят ARadioFlow Player)

